generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id    Int     @id @default(autoincrement())
  email String  @unique
  name  String?
}

model Nota {
  id                   Int                    @id @default(autoincrement())
  numeroNota           String
  descricao            String?
  chaveAcesso          String                 @unique
  ClientePagamentoNota ClientePagamentoNota[]
}

model Cliente {
  id                   Int                    @id @default(autoincrement())
  nome                 String
  email                String                 @unique
  telefone             String?
  ClientePagamentoNota ClientePagamentoNota[]
}

model ClientePagamentoNota {
  id          Int @id @default(autoincrement())
  clienteId   Int
  pagamentoId Int
  notaId      Int

  cliente   Cliente    @relation(fields: [clienteId], references: [id])
  pagamento Pagamentos @relation(fields: [pagamentoId], references: [id])
  nota      Nota       @relation(fields: [notaId], references: [id])
}

model Pagamentos {
  id                   Int                    @id @default(autoincrement())
  valor                Float
  dataPagamento        DateTime               @default(now())
  ClientePagamentoNota ClientePagamentoNota[]
}
